!function(e){"use strict";var a=function(){const a={condition:null,brands:[],deal:!1,starRate:null,priceRange:null,minPrice:null,maxPrice:null};function t(){const t=e("#applied-filters"),n=e(".meta-filter-shop");if(t.empty(),a.condition&&t.append(`<span class="filter-tag">${a.condition} <span class="remove-tag icon-close" data-filter="condition"></span></span>`),a.brands.length>0&&a.brands.forEach((e=>{t.append(`<span class="filter-tag">${e.label} <span class="remove-tag icon-close" data-filter="brand" data-value="${e.id}"></span></span>`)})),a.deal&&t.append(`<span class="filter-tag">${a.deal} <span class="remove-tag icon-close" data-filter="deal"></span></span>`),a.starRate&&t.append(`<span class="filter-tag">${a.starRate} <span class="remove-tag icon-close" data-filter="starRate"></span></span>`),a.priceRange){const n=e("#"+a.priceRange).next("label").text();t.append(`<span class="filter-tag">${n} <span class="remove-tag icon-close" data-filter="priceRadio"></span></span>`)}if(null!==a.minPrice||null!==a.maxPrice){let e="";e=null!==a.minPrice&&null!==a.maxPrice?`$${a.minPrice} - $${a.maxPrice}`:null!==a.minPrice?`$${a.minPrice} +`:`$${a.maxPrice} -`,t.append(`<span class="filter-tag">${e} <span class="remove-tag icon-close" data-filter="priceRangeInput"></span></span>`)}const i=t.children().length>0;n.toggle(i),e("#remove-all").toggle(i)}function n(){let t=0;e(".wrapper-shop .card-product").each((function(){const n=e(this);let i=!0;const r=parseFloat(n.find(".new-price").text().replace("$",""));if(a.condition){const e=n.data("condition");a.condition!==e&&(i=!1)}if(a.brands.length>0){const e=n.attr("data-brand");a.brands.some((a=>a.id===e))||(i=!1)}let l=n.data("deal")||"Deal All";if(a.deal&&a.deal!==l&&(i=!1),a.starRate){const e=n.data("rate");a.starRate!==e&&(i=!1)}if(a.priceRange)switch(a.priceRange){case"u10":r>10&&(i=!1);break;case"u15":(r<10||r>15)&&(i=!1);break;case"u25":(r<15||r>25)&&(i=!1);break;case"up35":r<35&&(i=!1)}null!==a.minPrice&&r<a.minPrice&&(i=!1),null!==a.maxPrice&&r>a.maxPrice&&(i=!1),n.toggle(i),i&&t++})),e("#product-count-grid").html(`<span class="count">${t}</span> Products Found`),setTimeout((()=>{e(".card-product.style-list").removeClass("last");const a=e(".card-product.style-list:visible").last();a.length>0&&a.addClass("last")}),50),t<8?e(".wd-load").addClass("d-none"):e(".wd-load").removeClass("d-none")}e('input[name="condition"]').change((function(){a.condition="inNew"===e(this).attr("id")?"New":"Old",n(),t()})),e('input[name="deal"]').change((function(){a.deal="dealAll"===e(this).attr("id")?"Deal All":"Deal Today",n(),t()})),e('input[name="brand"]').change((function(){const i=e(this).attr("id");let r=e(this).next("label").text().trim();r=r.replace(/\s*\(\d+\)$/,""),e(this).is(":checked")?a.brands.push({id:i,label:r}):a.brands=a.brands.filter((e=>e.id!==i)),n(),t()})),e('input[name="starRate"]').change((function(){a.starRate="fiveStar"===e(this).attr("id")?"5 Star":"fourStar"===e(this).attr("id")?"4 Star":"threeStar"===e(this).attr("id")?"3 Star":"twoStar"===e(this).attr("id")?"2 Star":"1 Star",n(),t()})),e('input[name="price"]').change((function(){const i=e(this).attr("id");a.priceRange=i,n(),t()})),e(".btn-filter-price").click((function(){let i=parseFloat(e(".min-price").val()),r=parseFloat(e(".max-price").val());isNaN(i)&&(i=null),isNaN(r)&&(r=null),null!==i&&i<0&&(e(".min-price").val(0),i=0),null!==r&&r<0&&(e(".max-price").val(0),r=0),null!==i&&null!==r&&i>r&&(r=i+1,e(".max-price").val(r)),a.minPrice=i,a.maxPrice=r,n(),t()})),e("#applied-filters").on("click",".remove-tag",(function(){const i=e(this).data("filter"),r=e(this).data("value");"condition"===i&&(a.condition=null,e('input[name="condition"]').prop("checked",!1)),"brand"===i&&(a.brands=a.brands.filter((e=>e.id!==r)),e(`input[name="brand"][id="${r}"]`).prop("checked",!1)),"deal"===i&&(a.deal=null,e('input[name="deal"]').prop("checked",!1)),"starRate"===i&&(a.starRate=null,e('input[name="starRate"]').prop("checked",!1)),"priceRadio"===i&&(a.priceRange=null,e('input[name="price"]').prop("checked",!1)),"priceRangeInput"===i&&(a.minPrice=null,a.maxPrice=null),n(),t()})),e("#remove-all,#reset-filter").click((function(){a.condition=null,a.brands=[],a.deal=null,a.starRate=null,a.priceRange=null,a.minPrice=null,a.maxPrice=null,e('input[name="brand"]').prop("checked",!1),e('input[name="condition"]').prop("checked",!1),e('input[name="deal"]').prop("checked",!1),e('input[name="starRate"]').prop("checked",!1),e('input[name="price"]').prop("checked",!1),e(".min-price").val(""),e(".max-price").val(""),n(),t()}))},t=function(){let a=e("#gridLayout .card-product").clone();e(".select-item").on("click",(function(){const t=e(this).data("sort-value");e(".select-item").removeClass("active"),e(this).addClass("active"),function(t){let n,i=e(".tf-view-layout-switch.active").data("tab");function r(a){a.each((function(){"tablist-1"===i?e(this).addClass("style-row"):"tablist-2"===i&&e(this).addClass("style-row type-row-2 row-small flex-sm-row")}))}n=e("#gridLayout .card-product");let l=0;"0-5"===t?l=5:"0-10"===t?l=10:"0-15"===t?l=15:"0-20"===t?l=20:"0-50"===t&&(l=50);if(l>0)return e("#gridLayout").empty().append(a.slice(0,l).clone()),e(".meta-filter-shop").hide(),void r(e("#gridLayout .card-product"));if("best-selling"===t)return e("#gridLayout .card-product").each((function(t){e(a[t]).attr("class",e(this).attr("class"))})),e("#gridLayout").empty().append(a.clone()),void e(".meta-filter-shop").hide();"price-low-high"===t?n.sort(((a,t)=>parseFloat(e(a).find(".new-price").text().replace("$",""))-parseFloat(e(t).find(".new-price").text().replace("$","")))):"price-high-low"===t?n.sort(((a,t)=>parseFloat(e(t).find(".new-price").text().replace("$",""))-parseFloat(e(a).find(".new-price").text().replace("$","")))):"a-z"===t?n.sort(((a,t)=>e(a).find(".name-product").text().localeCompare(e(t).find(".name-product").text()))):"z-a"===t&&n.sort(((a,t)=>e(t).find(".name-product").text().localeCompare(e(a).find(".name-product").text())));e("#gridLayout").empty().append(n)}(t)}))};e((function(){var n;!function(){if(e("#price-value-range").length>0){var a=document.getElementById("price-value-range"),t=[document.getElementById("price-min-value"),document.getElementById("price-max-value")],n=parseInt(a.getAttribute("data-min"))||0,i=parseInt(a.getAttribute("data-max"))||500;noUiSlider.create(a,{start:[n,i],connect:!0,step:1,range:{min:n,max:i},format:{from:function(e){return parseInt(e)},to:function(e){return parseInt(e)}}}),a.noUiSlider.on("update",(function(e,a){t[a].innerText=e[a]}))}}(),a(),t(),e(".min-price, .max-price").on("focus",(function(){e('input[name="price"]').prop("checked",!1)})),e(".btn-filter-price").on("click",(function(){let a=parseFloat(e(".min-price").eq(0).val())||0,t=parseFloat(e(".min-price").eq(1).val())||0;t>0&&a>0&&t<=a&&alert("Max price must be greater than Min price!")})),(n=e(".facet-fieldset.has-loadmore .fieldset-item")).slice(7).hide(),e(".facet-fieldset.has-loadmore .btn-loadmore").on("click",(function(){n.slice(7).stop(!0,!0).slideDown(300,(function(){e(".facet-fieldset.has-loadmore .btn-loadmore").remove()}))}))}))}(jQuery);