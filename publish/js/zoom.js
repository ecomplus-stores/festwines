import PhotoSwipeLightbox from"./photoswipe-lightbox.esm.min.js";import PhotoSwipe from"./photoswipe.esm.min.js";if($(".thumbs-slider").length>0){var direction=$(".tf-product-media-thumbs").data("direction")||"vertical",thumbs=new Swiper(".tf-product-media-thumbs",{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0,direction:"horizontal",navigation:{nextEl:".thumbs-next",prevEl:".thumbs-prev"},breakpoints:{0:{direction:"horizontal"},1200:{direction:direction}}}),main=new Swiper(".tf-product-media-main",{spaceBetween:0,observer:!0,observeParents:!0,speed:800,thumbs:{swiper:thumbs}});const e=document.querySelector(".slide-3d");function updateActiveButton(e,t){var i=`.${e}-btn`,o=`data-${e}`,n=`.value-current${capitalizeFirstLetter(e)}`,a=`.select-current${capitalizeFirstLetter(e)}`;$(i).removeClass("active");var r=$(".tf-product-media-main .swiper-slide").eq(t).attr(o);r&&($(`${i}[${o}='${r}']`).addClass("active"),$(n).text(r),$(a).text(r))}function scrollTo(e,t,i){if(t&&i){var o=$(".tf-product-media-main .swiper-slide").filter((function(){return $(this).attr(`data-${e}`)===t&&$(this).attr("data-color")===i}));if(o.length>0){var n=o.first().index();main.slideTo(n,1e3,!1),thumbs.slideTo(n,1e3,!1)}else{var a=$(".tf-product-media-main .swiper-slide").filter((function(){return $(this).attr(`data-${e}`)===t}));if(a.length>0){var r=a.first().index();main.slideTo(r,1e3,!1),thumbs.slideTo(r,1e3,!1)}}}}function setupVariantButtons(e){$(`.${e}-btn`).on("click",(function(){var t=$(this).data(e),i=$(".value-currentColor").text();$(`.${e}-btn`).removeClass("active"),$(this).addClass("active"),scrollTo(e,t,i)}))}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}e&&(e.addEventListener("mouseenter",(()=>{main.allowTouchMove=!1})),e.addEventListener("mouseleave",(()=>{main.allowTouchMove=!0}))),["color","size"].forEach((e=>{main.on("slideChange",(function(){updateActiveButton(e,this.activeIndex)})),setupVariantButtons(e),updateActiveButton(e,main.activeIndex)}))}!function(e){"use strict";e((function(){var t,i;e(".tf-image-zoom").on("mouseover",(function(){e(this).closest(".section-image-zoom").addClass("zoom-active")})),e(".tf-image-zoom").on("mouseleave",(function(){e(this).closest(".section-image-zoom").removeClass("zoom-active")})),t=function(){var t=document.querySelectorAll(".tf-image-zoom"),i=document.querySelector(".tf-zoom-main");matchMedia("only screen and (min-width: 1200px)").matches?e(t).each((function(e,t){t._drift||(t._drift=new Drift(t,{zoomFactor:2,paneContainer:i,inlinePane:!1,handleTouch:!1,hoverBoundingBox:!0,containInline:!0}))})):e(t).each((function(e,t){t._drift&&(t._drift.destroy(),t._drift=null)})),void 0!==e.fn.magnificPopup&&e(t).magnificPopup({type:"image",gallery:{enabled:!0},zoom:{enabled:!0}})},window.addEventListener("resize",t),t(),i=document.querySelectorAll(".tf-image-zoom-magnifier"),e(i).each((function(e,t){new Drift(t,{zoomFactor:2,inlinePane:!0,containInline:!1})})),function(){var t=document.querySelectorAll(".tf-image-zoom-inner"),i=document.querySelector(".tf-product-zoom-inner");e(t).each((function(e,t){new Drift(t,{paneContainer:i,zoomFactor:2,inlinePane:!1,containInline:!1})}))}(),function(){const e=new PhotoSwipeLightbox({gallery:"#gallery-swiper-started",children:"a",pswpModule:PhotoSwipe,bgOpacity:1,secondaryZoomLevel:2,maxZoomLevel:3});e.init(),e.on("change",(()=>{const{pswp:t}=e;main.slideTo(t.currIndex,0,!1)})),e.on("afterInit",(()=>{main.params.autoplay.enabled&&main.autoplay.stop()})),e.on("closingAnimationStart",(()=>{const{pswp:t}=e;main.slideTo(t.currIndex,0,!1),main.params.autoplay.enabled&&main.autoplay.start()}))}(),new PhotoSwipeLightbox({gallery:"#gallery-started",children:"a",pswpModule:PhotoSwipe,bgOpacity:1,secondaryZoomLevel:2,maxZoomLevel:3}).init(),e(".tf-model-viewer").length&&(e(".tf-model-viewer-ui-button").on("click",(function(t){e(this).closest(".tf-model-viewer").find("model-viewer").removeClass("disabled"),e(this).closest(".tf-model-viewer").toggleClass("active")})),e(".tf-model-viewer-ui").on("dblclick",(function(t){const i=e(this).closest(".tf-model-viewer").find("model-viewer")[0];e(this).closest(".tf-model-viewer").find("model-viewer").addClass("disabled"),e(this).closest(".tf-model-viewer").toggleClass("active"),i&&(i.cameraOrbit="0deg 90deg auto",i.updateFraming())})))}))}(jQuery);